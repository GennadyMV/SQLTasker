<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

    <head>
        <title th:text="${course.name}">Course</title>

    </head>
    <body>

        <div th:include="fragments/navbar_template :: navbar"></div>
        <div th:include="fragments/messages_template :: messages"></div>

        <div>
            <span>Course name</span>
            <h1 th:text="${course.name}"></h1>
        </div>
        <div th:if="${course.description}">
            <span>Course Description</span>
            <p th:text="${course.description}"></p>
        </div>
        <div th:if="${course.starts}">
            <span>Start-date</span>
            <p th:text="${course.starts}"></p>
        </div>
        <div th:if="${course.expires}">
            <span>Expire-date</span>
            <p th:text="${course.expires}"></p>
        </div>
        
        <div th:if="${course.students}">
            <span>Participants</span>
            <div th:each="student : ${course.students}">
                <h4 th:text="${student.username}">Student name</h4>
            </div>
        </div>
        
        <div th:if="${details}">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Category</th>
                        <th>Starts</th>
                        <th>Expires</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="detail : ${details}">
                        <td th:text="${detail.category.name}"></td>
                        <td th:text="((${detail.starts != null})? ${detail.starts} : '')"></td>
                        <td th:text="((${detail.expires != null})? ${detail.expires} : '')"></td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div>
            <a th:href="@{/courses/{id}/edit (id = ${course.id})}">Edit course</a>
        </div>
        
        <div>
            <a th:href="@{/courses/{id}/details (id = ${course.id})}">Edit categories' details</a>
        </div>
        
        <form th:method="POST" th:action="@{/courses/{id}/join (id = ${course.id})}">
            <input type="submit" value="Join course"/>
        </form>
        
        <form th:method="POST" th:action="@{/courses/{id}/leave (id = ${course.id})}">
            <input type="submit" value="Leave course"/>
        </form>
        
        <div>
            <form th:method="DELETE" th:action="@{/courses/{id}/delete (id = ${course.id})}">
                <input type="submit" value="Delete course"/>
            </form>
        </div>
        
        <div th:include="fragments/footer_template :: footer"></div>
        <div th:include="fragments/bootstrap :: bootstrap"></div>
        <div th:include="fragments/twitterBootstrap :: twitterBootstrap"></div>
    </body>

</html>